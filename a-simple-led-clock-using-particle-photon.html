<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>A Simple LED Clock using Particle Photon - HackerSpaceTech</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="./a-simple-led-clock-using-particle-photon.html">

        <meta name="author" content="David Riewe" />
        <meta name="keywords" content="Particle Photon,Tutorials" />
        <meta name="description" content="This is a simple LED clock I prototyped following Simon Monks post. I am using a Particle Photon, a couple 4.7k resistors and a 7 Seg Display with an Adafruit I2C backpack. The 7-segment LED backpack is obtaining it&#39;s power from the VIN pin of the Photon, which ..." />

        <meta property="og:site_name" content="HackerSpaceTech" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="A Simple LED Clock using Particle Photon"/>
        <meta property="og:url" content="./a-simple-led-clock-using-particle-photon.html"/>
        <meta property="og:description" content="This is a simple LED clock I prototyped following Simon Monks post. I am using a Particle Photon, a couple 4.7k resistors and a 7 Seg Display with an Adafruit I2C backpack. The 7-segment LED backpack is obtaining it&#39;s power from the VIN pin of the Photon, which ..."/>
        <meta property="article:published_time" content="2016-03-05" />
            <meta property="article:section" content="Blog" />
            <meta property="article:tag" content="Particle Photon" />
            <meta property="article:tag" content="Tutorials" />
            <meta property="article:author" content="David Riewe" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="./theme/css/bootstrap.united.min.css" type="text/css"/>
    <link href="./theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="./theme/css/pygments/solarizeddark.css" rel="stylesheet">
    <link rel="stylesheet" href="./theme/css/style.css" type="text/css"/>

        <link href="./feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="HackerSpaceTech ATOM Feed"/>



        <link href="./feeds/blog.atom.xml" type="application/atom+xml" rel="alternate"
              title="HackerSpaceTech Blog ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="./" class="navbar-brand">
HackerSpaceTech            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/category/blog.html">Blog</a></li>
                    <li><a href="/pages/meetups.html">Meetups</a></li>
                    <li><a href="/pages/classes.html">Classes</a></li>
                    <li><a href="/pages/arduino-crash-course-prelude.html">Arduino Crash Course</a></li>
                    <li><a href="/pages/hacker-stars.html">Hacker Stars</a></li>
                    <li><a href="/pages/tutorials.html">Tutorials</a></li>
                    <li><a href="/pages/contact.html">Contact</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<style>
	#banner{
	    background-image:url(".//images/banners/mainbanner3.png");
	}
</style>

<div id="banner">
	<div class="container-fluid">
		<div class="copy">
			<h1>HackerSpaceTech</h1>
		</div>
	</div>
</div><!-- End Banner -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="./a-simple-led-clock-using-particle-photon.html"
                       rel="bookmark"
                       title="Permalink to A Simple LED Clock using Particle Photon">
                        A Simple LED Clock using Particle Photon
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-03-05T12:19:00-06:00"> Sat 05 March 2016</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="./tag/particle-photon.html">Particle Photon</a>
        /
	<a href="./tag/tutorials.html">Tutorials</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p><img alt="Clock" src="/images/clock.jpg" /></p>
<p>This is a simple LED clock I prototyped following Simon Monks post. </p>
<p>I am using a Particle Photon, a couple 4.7k resistors and a 7 Seg Display with an Adafruit I2C backpack.</p>
<p>The 7-segment LED backpack is obtaining it's power from the VIN pin of the Photon, which is 5 volts.  In order for the D0 (data) and D1 (clock) pins to interface with the backpack they are pulled high via 4.7k resistors through the 3V3 line.  These pullups are needed so that the Photon can drive a logic 1 on those lines.</p>
<p><strong>Software</strong></p>
<p>Go to <a href="http://particle.io">http://particle.io</a> and select the BUILD option to open the web IDE.</p>
<p>Create a new 'App' and call it LCD_Clock.</p>
<p>This project requires the <strong>SPARKTIME</strong> and <strong>ADAFRUIT-LED-BACKPACK</strong> LIBRARIES, add these by clicking the libraries button, find each of these libraries in turn and click USE THIS LIBRARY selecting your new LCD_Clock app when asked to select the app.</p>
<p>Now you can paste the following code into your App. Note that the includes should already be there if the libraries have been imported correctly.</p>
<p>You will need to change your time zone offset on the last line of setup.</p>
<p>That's it - the display should start as soon as the Photon resets.</p>
<div class="highlight"><pre><span></span> <span class="cp">#include</span> <span class="cpf">&quot;SparkTime/SparkTime.h&quot;</span><span class="cp"></span>
 <span class="cp">#include</span> <span class="cpf">&quot;adafruit-led-backpack/adafruit-led-backpack.h&quot;</span><span class="cp"></span>

<span class="n">Adafruit_7segment</span> <span class="n">matrix</span> <span class="o">=</span> <span class="n">Adafruit_7segment</span><span class="p">();</span>
<span class="n">UDP</span> <span class="n">UDPClient</span><span class="p">;</span>
<span class="n">SparkTime</span> <span class="n">rtc</span><span class="p">;</span>

<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">currentTime</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">lastTime</span> <span class="o">=</span> <span class="mi">0UL</span><span class="p">;</span>
<span class="n">String</span> <span class="n">timeStr</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">colon</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">matrix</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mh">0x70</span><span class="p">);</span>
  <span class="n">matrix</span><span class="p">.</span><span class="n">setBrightness</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
  <span class="n">rtc</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="o">&amp;</span><span class="n">UDPClient</span><span class="p">,</span> <span class="s">&quot;north-america.pool.ntp.org&quot;</span><span class="p">);</span>
  <span class="n">rtc</span><span class="p">.</span><span class="n">setTimeZone</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// gmt offset</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">currentTime</span> <span class="o">=</span> <span class="n">rtc</span><span class="p">.</span><span class="n">now</span><span class="p">();</span>
  <span class="kt">int</span> <span class="n">min</span> <span class="o">=</span> <span class="n">rtc</span><span class="p">.</span><span class="n">minute</span><span class="p">(</span><span class="n">currentTime</span><span class="p">);</span>
  <span class="kt">int</span> <span class="n">hour</span> <span class="o">=</span> <span class="n">rtc</span><span class="p">.</span><span class="n">hour</span><span class="p">(</span><span class="n">currentTime</span><span class="p">);</span>
  <span class="n">matrix</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">hour</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">min</span><span class="p">,</span> <span class="n">DEC</span><span class="p">);</span>
  <span class="n">colon</span> <span class="o">=</span> <span class="o">!</span> <span class="n">colon</span><span class="p">;</span>
  <span class="n">matrix</span><span class="p">.</span><span class="n">drawColon</span><span class="p">(</span><span class="n">colon</span><span class="p">);</span>
  <span class="n">matrix</span><span class="p">.</span><span class="n">writeDisplay</span><span class="p">();</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>


<p>Check out <a href="http://amzn.to/2exMCkT">Simons book</a> for more experiments like this</p>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="./particle-photon-the-buddy-system-publish-and-subscribe.html">Particle Photon - The Buddy System: Publish and Subscribe</a></li>
        <li><a href="./ultrasonic-arduino-how-to-parking-your-car-with-an-arduino.html">UltraSonic Arduino How To - Parking your car with an Arduino</a></li>
        <li><a href="./virtual-color-mixer.html">Virtual Color Mixer</a></li>
        <li><a href="./understanding-data-types-for-variables.html">Understanding Data Types for variables</a></li>
        <li><a href="./neopixel-16-ring-fun.html">NeoPixel 16 Ring Fun</a></li>
        <li><a href="./max7219-and-8x8-led-matrix-on-breadboard.html">MAX7219 and 8x8 LED Matrix on breadboard</a></li>
        <li><a href="./ldr-light-sensor-tutorial.html">LDR light sensor tutorial</a></li>
        <li><a href="./logging-environmental-data-and-charting-it-with-google-charts.html">Logging Environmental Data and Charting it with Google Charts</a></li>
        <li><a href="./syncing-oscilloscope-to-interrupt-activity.html">Syncing Oscilloscope To Interrupt Activity</a></li>
        <li><a href="./infra-red-controlled-robot.html">Infra Red Controlled Robot</a></li>
    </ul>
</section>
    <hr />
    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style">
            <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
            <a class="addthis_button_tweet"></a>
            <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    </div>
    <!-- AddThis Button END -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<div id="aboutme">
        <p>
            <img width="100%" class="img-thumbnail" src="/images/animatedlogo.gif"/>
        </p>
    <p>
        <strong>About Hacker Space Tech</strong><br/>
        We a motivated group of hardware hackers who like learning about technology and building cool things.  To learn more about the display above <a href="http://hackerspacetech.com/building-a-16x32-neopixel-display.html">Click Here</a>.  To learn more about the Hacker Stars at Hacker Space Tech <a href="/pages/hacker-stars.html">Click Here</a><br><br>
    </p>
</div>
<section class="well well-sm">

    <ul class="list-group list-group-flush">

            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
                <ul class="list-group" id="recentposts">
                    <li class="list-group-item">
                        <a href="./ldr-light-sensor-tutorial.html">
                            LDR light sensor tutorial
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="./attendance-logger.html">
                            Attendance Logger
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="./virtual-color-mixer.html">
                            Virtual Color Mixer
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="./switch-case-2-a-second-switch-case-example-showing-how-to-take-different-actions-based-on-the-characters-received-in-the-serial-port.html">
                            Switch Case 2: A second switch-case example, showing how to take different actions based on the characters received in the serial port
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="./while-statement-conditional-how-to-use-a-while-loop-to-calibrate-a-sensor-while-a-button-is-being-read.html">
                            While Statement Conditional: How to use a while loop to calibrate a sensor while a button is being read.
                        </a>
                    </li>
                </ul>
            </li>

        <br><center><a href="http://freecourse.hackerspacetech.com"><img src="/images/sponsors/pea.jpg"></a></center><br>

            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Follow HackerSpaceTech</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="http://www.twitter.com/hackerspacetech"><i class="fa fa-twitter-square fa-lg"></i> twitter</a></li>
                <li class="list-group-item"><a href="http://www.linkedin.com/in/driewe"><i class="fa fa-linkedin-square fa-lg"></i> linkedin</a></li>
                <li class="list-group-item"><a href="http://www.github.com/driewe"><i class="fa fa-github-square fa-lg"></i> github</a></li>
                <li class="list-group-item"><a href="http://www.facebook.com/HackerSpaceTech"><i class="fa fa-facebook-square fa-lg"></i> facebook</a></li>
                <li class="list-group-item"><a href="https://www.youtube.com/channel/UCxScU-1pFpDndfqXOLqwrUw"><i class="fa fa-youtube-square fa-lg"></i> youtube</a></li>
              </ul>
            </li>







    <li class="list-group-item"><h4><i class="fa fa-twitter fa-lg"></i><span class="icon-label">Latest HackerSpaceTech Tweets</span></h4></li>
    <div id="twitter_timeline">
        <a class="twitter-timeline" data-width="325" data-height="400" data-dnt="true" data-theme="light" href="https://twitter.com/hackerspacetech">Tweets by hackerspacetech</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>

        <center><br><a href="http://goo.gl/XFRMbW"><img src="/images/sponsors/sbs.png"></a><br></center>

    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://freecourse.hackerspacetech.com" target="_blank">
                Free Arduino Class
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://programmingelectronics.com/hackerspacetech" target="_blank">
                Register For PEA
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://www.meetup.com/hackerspacetech" target="_blank">
                HackerSpaceTech Meetup
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://thelab.ms/" target="_blank">
                TheLab.ms
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://dallasmakerspace.org/" target="_blank">
                Dallas Maker Space
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://www.hackster.io/driewe" target="_blank">
                Hackster.io
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://getpelican.com/" target="_blank">
                Pelican
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://python.org/" target="_blank">
                Python.org
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://jinja.pocoo.org/" target="_blank">
                Jinja2
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container-fluid">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Hacker Space Tech
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="./theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="./theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="./theme/js/respond.min.js"></script>

    <script src="./theme/js/bodypadding.js"></script>
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-47432237-2']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

        <script type="text/javascript">var addthis_config = {"data_track_addressbar": true};</script>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=driewe"></script>
</body>
</html>