<style>
.vertical_center {
    display: flex;
    align-items: center;
}
</style>
<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Neo-Pixel Ring Clock - ESP8266 Controlled - HackerSpaceTech</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://www.hackerspacetech.com/neo-pixel-ring-clock-esp8266-controlled.html">

        <meta name="author" content="Mike McRoberts" />
        <meta name="keywords" content="Arduino,ESP8266,neopixel,Tutorials" />
        <meta name="description" content="I purchased a 24 LED Neopixel Ring and was attempting to choose what to do with it. I had initially moved toward utilizing the ring for a Cheerlights extend however subsequent to making a Cheerlight out of it I concluded this was a horrible misuse of the ring. In this ..." />

        <meta property="og:site_name" content="HackerSpaceTech" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Neo-Pixel Ring Clock - ESP8266 Controlled"/>
        <meta property="og:url" content="http://www.hackerspacetech.com/neo-pixel-ring-clock-esp8266-controlled.html"/>
        <meta property="og:description" content="I purchased a 24 LED Neopixel Ring and was attempting to choose what to do with it. I had initially moved toward utilizing the ring for a Cheerlights extend however subsequent to making a Cheerlight out of it I concluded this was a horrible misuse of the ring. In this ..."/>
        <meta property="article:published_time" content="2016-12-08" />
            <meta property="article:section" content="Blog" />
            <meta property="article:tag" content="Arduino" />
            <meta property="article:tag" content="ESP8266" />
            <meta property="article:tag" content="neopixel" />
            <meta property="article:tag" content="Tutorials" />
            <meta property="article:author" content="Mike McRoberts" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://www.hackerspacetech.com/theme/css/bootstrap.united.min.css" type="text/css"/>
    <link href="http://www.hackerspacetech.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://www.hackerspacetech.com/theme/css/pygments/solarizeddark.css" rel="stylesheet">
    <link rel="stylesheet" href="http://www.hackerspacetech.com/theme/css/style.css" type="text/css"/>

        <link href="http://www.hackerspacetech.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="HackerSpaceTech ATOM Feed"/>



        <link href="http://www.hackerspacetech.com/feeds/blog.atom.xml" type="application/atom+xml" rel="alternate"
              title="HackerSpaceTech Blog ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://www.hackerspacetech.com/" class="navbar-brand">
HackerSpaceTech            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/category/blog.html">Blog</a></li>
                    <li><a href="/pages/meetups.html">Meetups</a></li>
                    <li><a href="/pages/classes.html">Classes</a></li>
                    <li><a href="http://freecourse.hackerspacetech.com">Arduino Crash Course</a></li>
                    <li><a href="/pages/contributors-at-hackerspace-tech.html">Contributors</a></li>
                    <li><a href="/pages/tutorials.html">Tutorials</a></li>
                    <li><a href="/pages/contact.html">Contact</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<style>
	#banner{
	    background-image:url("http://www.hackerspacetech.com//images/banners/mainbanner3.png");
	}
</style>

<div id="banner">
	<div class="container-fluid">
		<div class="copy">
			<h1>HackerSpaceTech</h1>
		</div>
	</div>
</div><!-- End Banner -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <div class="well">
            <header class="page-header">
                
                <h1>
                    <a href="http://www.hackerspacetech.com/neo-pixel-ring-clock-esp8266-controlled.html"
                       rel="bookmark"
                       title="Permalink to Neo-Pixel Ring Clock - ESP8266 Controlled">
                        Neo-Pixel Ring Clock - ESP8266 Controlled
                    </a>
                </h1>
                
            </header>
            <div class="entry-content">
                
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-12-08T00:00:00-06:00"> Thu 08 December 2016</time>
    </span>


            <span class="label label-default">By</span>
            <a href="http://www.hackerspacetech.com/author/mike-mcroberts.html"><i class="fa fa-user"></i> Mike McRoberts</a>



<span class="label label-default">Tags</span>
	<a href="http://www.hackerspacetech.com/tag/arduino.html">Arduino</a>
        /
	<a href="http://www.hackerspacetech.com/tag/esp8266.html">ESP8266</a>
        /
	<a href="http://www.hackerspacetech.com/tag/neopixel.html">neopixel</a>
        /
	<a href="http://www.hackerspacetech.com/tag/tutorials.html">Tutorials</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                </div>
                <p>I purchased a 24 LED Neopixel Ring and was attempting to choose what to do with it. I had initially moved toward utilizing the ring for a Cheerlights extend however subsequent to making a Cheerlight out of it I concluded this was a horrible misuse of the ring. In this way, one end of the week when going by my neighborhood Makerspace (Medway Makers in the UK) I chose I would make a check out of it. </p>

<p>The ESP8266 is perfect for this as has wifi so the time can be gotten over WiFi and it can likewise control the Neopixel Ring. I utilize the Wemos D1 Mini as they are extremely easy to utilize, have a miniaturized scale USB association for power and information, cost just a couple bucks and can be utilized effortlessly with the Arduino IDE. This is an extremely basic venture with basic code and very little in the method for a circuit. </p>

<p>The Neopixel ring has 3 associations: 5v, Ground and Data. You should simply to weld 3 wires to these 3 cushions on the ring. VCC and Gnd go to 5v and Ground on your D1 Mini and the Data stick can go to any yield stick.</p>

<p><center><img src="images/neopixel-ring-clock/image_1.jpg" class="img-responsive img-rounded"></center></p>
<p>The Code Requires 3 libraries:</p>

<div class="highlight"><pre><span></span>    <span class="cp">#include</span> <span class="cpf">&lt;Adafruit_NeoPixel.h&gt;</span><span class="cp"></span>
    <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="err">#</span><span class="n">include</span> <span class="o">&lt;</span><span class="n">ESP8266WiFi</span><span class="p">.</span><span class="n">h</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="err">#</span><span class="n">include</span> <span class="s">&quot;TimeClient.h&quot;</span>
</pre></div>


<p>The Adafruit_NeoPixel library can be downloaded <a href="https://github.com/adafruit/Adafruit_NeoPixel">here</a></p>

<p>The TimeClient library is part of the Squix Weather Station code and can be downloaded <a href="https://github.com/squix78/esp8266-weather-station">here</a></p>

<p>Just copy the TimeClient.cpp and TimeClient.h files into your sketch folder.</p>

<p>The TimeClient library works by interfacing with the web by means of WiFi and going to www.google.com. It then scratches the header of the website page to acquire the time and date from the header.</p>

<p>The ESP8266WiFi library accompany the Arduino IDE when you introduce the ESP8266 as a perceived board. Bear in mind to introduce the ESP8266 documents utilizing the Arduino IDE Boards Manager before you begin your venture. </p>

<p>We will utilize Pin 5 on the D1 Mini for the information line. </p>

<div class="highlight"><pre><span></span>    #define PIN D5
</pre></div>


<p>We have to monitor, in our code, when the last overhaul of the time from the web happens furthermore to what extent it has been since one moment back (to monitor seconds).</p>

<div class="highlight"><pre><span></span>    long lastUpdate = millis();
    long lastSecond = millis();
</pre></div>


<p>The hours, minutes and seconds are stored in a String variable.</p>

<div class="highlight"><pre><span></span>    String hours, minutes, seconds;
</pre></div>


<p>As well as the current second, minute and hour which we keep track of.</p>

<div class="highlight"><pre><span></span>    int currentSecond, currentMinute, currentHour;
</pre></div>


<p>Character arrays are used to store your WiFi SSID and Password. Enter your own details here:</p>

<div class="highlight"><pre><span></span>    char ssid[] = &quot;xxxxxxx&quot;;  //  your network SSID (name)
    char pass[] = &quot;xxxxxxx&quot;;       // your network password
</pre></div>


<p>I live in London so I have 0 hours offset from UTC, except in Summer Time when it will be 1 hour. Set the offset for your own time zone.</p>

<div class="highlight"><pre><span></span>    const float UTC_OFFSET = 0;
</pre></div>


<p>We create a timeClient object and pass it the UTC offset.</p>

<div class="highlight"><pre><span></span>    TimeClient timeClient(UTC_OFFSET);
</pre></div>


<p>Then create a NeoPixel object, call it 'strip' and pass it the number of LED's and what pin we are using for the data line.</p>

<div class="highlight"><pre><span></span>    Adafruit_NeoPixel strip = Adafruit_NeoPixel(24, PIN);
</pre></div>


<p>In the setup function we will start off by opening serial comms for debug purposes.</p>

<div class="highlight"><pre><span></span>    void setup()
    {
        Serial.begin(115200);
</pre></div>


<p>Then the NeoPixel ring needs to be initialised and we set brightness to 50%</p>

<div class="highlight"><pre><span></span>    strip.setBrightness(128);
</pre></div>


<p>Nothing happens on the ring until we do a .show command.</p>

<div class="highlight"><pre><span></span>    strip.show();
</pre></div>


<p>Next we connect to your WiFi</p>

<div class="highlight"><pre><span></span>    WiFi.begin(ssid, pass);
    while (WiFi.status() != WL_CONNECTED) 
    {...
</pre></div>


<p>Then update the time from the timeClient library.</p>

<div class="highlight"><pre><span></span>    timeClient.updateTime();
</pre></div>


<p>Next we run our own function called updateTime(); which calls the library functions to get the current hours, minutes and seconds.</p>

<div class="highlight"><pre><span></span>    updateTime();
</pre></div>


<p>At long last, before the fundamental circle, we recover and store the present estimation of millis() so we can track of to what extent it has been since we last redesigned the time from the web furthermore monitor track of the seconds as they go by so the second "hand" can be overhauled.</p>

<div class="highlight"><pre><span></span>    lastUpdate = millis();
    lastSecond = millis();
</pre></div>


<p>The setup function is complete. Next the main loop function will run.</p>

<div class="highlight"><pre><span></span>    void loop()
</pre></div>


<p>If 1,800,000 milliseconds (30 minutes) have passed by since we last updated the time, we update the time again from the internet.</p>

<div class="highlight"><pre><span></span>    if ((millis() - lastUpdate) &gt; 1800000) updateTime();
</pre></div>


<p>The hours, minutes and seconds are updated on the display every second so we need to check if 1000 milliseconds have passed since we last updated the display. If so the code within the if statement is carried out.</p>

<div class="highlight"><pre><span></span>    if ((millis() - lastSecond) &gt; 1000)
</pre></div>


<p>The colours of the 'hands' are:</p>

<ul>
<li>RED = Hours</li>
<li>GREEN = Minutes</li>
<li>BLUE = Seconds</li>
</ul>

<p>The .setPixelColor command is utilized to set the shades of the 'hands'. The ring I utilized had 24 RGB LED's so the seconds and minutes get separated by 2.5 so they are shown on the right quadrant of the ring, the hour (24 hour arrange) gets isolated by 2. Prior to the time is transformed we set the present "hands" to OFF to clear the last positions.</p>

<div class="highlight"><pre><span></span>    strip.setPixelColor(currentSecond / 2.5, 0, 0, 0);
    strip.setPixelColor(currentMinute / 2.5, 0, 0, 0);
    strip.setPixelColor(currentHour * 2, 0, 0, 0);
    strip.show();
</pre></div>


<p>The current value of millis() is now stored.</p>

<div class="highlight"><pre><span></span>    lastSecond = millis();
</pre></div>


<p>Next, the value put away in currentSecond is expanded by 1. We then check if the seconds have gone more than 59 and if so set them back to 0. At the point when that happens we additionally increment the minutes by 1 and do a similar check. In the event that the minutes go more than 59 then we likewise increment the hour by 1.</p>

<div class="highlight"><pre><span></span>currentSecond++;
   if (currentSecond &gt; 59)
   { currentSecond = 0;
     currentMinute++;
     if (currentMinute &gt; 59) {
       currentMinute = 0;
       currentHour++;
       if (currentHour &gt; 12) currentHour = 0;
     }
   }
</pre></div>


<p>Although not necessary, I print out the current time to the serial monitor window for debugging purposes. I use a String object to generate the time string.</p>

<div class="highlight"><pre><span></span>String currentTime = String(currentHour) + &#39;:&#39; + String(currentMinute) + &#39;:&#39; + String(currentSecond);
   Serial.println(currentTime);
</pre></div>


<p>Since the seconds, minutes and hours have been upgraded we can set the important "hands" to their separate RGB values.</p>

<div class="highlight"><pre><span></span>strip.setPixelColor(currentSecond / 2.5, 0, 0, 255);
   strip.setPixelColor(currentMinute / 2.5, 0, 255, 0);
   strip.setPixelColor(currentHour * 2, 255, 0, 0);
   strip.show();
</pre></div>


<p>At last we make our own particular capacity called updateTime(). This gets overhauled toward the begin and after that again like clockwork after to keep exact time.</p>

<div class="highlight"><pre><span></span>    void updateTime();
    {
</pre></div>


<p>We obtain the hours, minutes and seconds from the timeClient library.</p>

<div class="highlight"><pre><span></span>    hours = timeClient.getHours();
    minutes = timeClient.getMinutes();
    seconds = timeClient.getSeconds();
</pre></div>


<p>and store those values as integers (They are returned as strings from the timeClient library). 24 hours are converted to 12 hour format.</p>

<div class="highlight"><pre><span></span>    currentHour = hours.toInt();
    if (currentHour &gt; 12) currentHour = currentHour - 12;
    currentMinute = minutes.toInt();
    currentSecond = seconds.toInt();
</pre></div>


<p>Finally, we want to be able to check that 30 mins have passed since the last update so we store the current value of millis() again.</p>

<div class="highlight"><pre><span></span>    lastUpdate = millis();
</pre></div>


<p>My clock is presently only a model on a breadboard, as should be obvious in the picture. Be that as it may, this would look incredible underneath some scratched white acrylic so I provoke you to utilize the code above to make your own particular ring clock and make something delightful out of it.</p>

<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;Adafruit_NeoPixel.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;ESP8266WiFi.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;TimeClient.h&quot;</span><span class="cp"></span>

<span class="cp">#define PIN D5</span>
<span class="kt">long</span> <span class="n">lastUpdate</span> <span class="o">=</span> <span class="n">millis</span><span class="p">();</span>
<span class="kt">long</span> <span class="n">lastSecond</span> <span class="o">=</span> <span class="n">millis</span><span class="p">();</span>

<span class="n">String</span> <span class="n">hours</span><span class="p">,</span> <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">currentSecond</span><span class="p">,</span> <span class="n">currentMinute</span><span class="p">,</span> <span class="n">currentHour</span><span class="p">;</span>

<span class="kt">char</span> <span class="n">ssid</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;xxxxxxx&quot;</span><span class="p">;</span>  <span class="c1">//  your network SSID (name)</span>
<span class="kt">char</span> <span class="n">pass</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;xxxxxxx&quot;</span><span class="p">;</span>       <span class="c1">// your network password</span>

<span class="k">const</span> <span class="kt">float</span> <span class="n">UTC_OFFSET</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">TimeClient</span> <span class="nf">timeClient</span><span class="p">(</span><span class="n">UTC_OFFSET</span><span class="p">);</span>

<span class="n">Adafruit_NeoPixel</span> <span class="n">strip</span> <span class="o">=</span> <span class="n">Adafruit_NeoPixel</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="n">PIN</span><span class="p">);</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>

    <span class="n">strip</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
    <span class="n">strip</span><span class="p">.</span><span class="n">setBrightness</span><span class="p">(</span><span class="mi">128</span><span class="p">);</span>
    <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>

    <span class="c1">// We start by connecting to a WiFi network</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Connecting to &quot;</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">ssid</span><span class="p">);</span>
    <span class="n">WiFi</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span> <span class="n">pass</span><span class="p">);</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">WiFi</span><span class="p">.</span><span class="n">status</span><span class="p">()</span> <span class="o">!=</span> <span class="n">WL_CONNECTED</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
        <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>

    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;WiFi connected&quot;</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;IP address: &quot;</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">WiFi</span><span class="p">.</span><span class="n">localIP</span><span class="p">());</span>
    <span class="n">timeClient</span><span class="p">.</span><span class="n">updateTime</span><span class="p">();</span>
    <span class="n">updateTime</span><span class="p">()</span> <span class="p">;</span>
    <span class="n">lastUpdate</span> <span class="o">=</span> <span class="n">millis</span><span class="p">();</span>
    <span class="n">lastSecond</span> <span class="o">=</span> <span class="n">millis</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">((</span><span class="n">millis</span><span class="p">()</span> <span class="o">-</span> <span class="n">lastUpdate</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1800000</span><span class="p">)</span> <span class="n">updateTime</span><span class="p">();</span>

    <span class="k">if</span> <span class="p">((</span><span class="n">millis</span><span class="p">()</span> <span class="o">-</span> <span class="n">lastSecond</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">currentSecond</span> <span class="o">/</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">currentMinute</span> <span class="o">/</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">currentHour</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

        <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
        <span class="n">lastSecond</span> <span class="o">=</span> <span class="n">millis</span><span class="p">();</span>
        <span class="n">currentSecond</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">currentSecond</span> <span class="o">&gt;</span> <span class="mi">59</span><span class="p">)</span>
        <span class="p">{</span> 
            <span class="n">currentSecond</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="n">currentMinute</span><span class="o">++</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">currentMinute</span> <span class="o">&gt;</span> <span class="mi">59</span><span class="p">)</span> 
            <span class="p">{</span>
                <span class="n">currentMinute</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="n">currentHour</span><span class="o">++</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">currentHour</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">)</span> <span class="n">currentHour</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">String</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="n">String</span><span class="p">(</span><span class="n">currentHour</span><span class="p">)</span> <span class="o">+</span> <span class="sc">&#39;:&#39;</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="n">currentMinute</span><span class="p">)</span> <span class="o">+</span> <span class="sc">&#39;:&#39;</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="n">currentSecond</span><span class="p">);</span>
        <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">currentTime</span><span class="p">);</span>

        <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">currentSecond</span> <span class="o">/</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">);</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">currentMinute</span> <span class="o">/</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">currentHour</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">updateTime</span><span class="p">()</span> 
<span class="p">{</span>
    <span class="n">hours</span> <span class="o">=</span> <span class="n">timeClient</span><span class="p">.</span><span class="n">getHours</span><span class="p">();</span>
    <span class="n">minutes</span> <span class="o">=</span> <span class="n">timeClient</span><span class="p">.</span><span class="n">getMinutes</span><span class="p">();</span>
    <span class="n">seconds</span> <span class="o">=</span> <span class="n">timeClient</span><span class="p">.</span><span class="n">getSeconds</span><span class="p">();</span>
    <span class="n">currentHour</span> <span class="o">=</span> <span class="n">hours</span><span class="p">.</span><span class="n">toInt</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">currentHour</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">)</span> <span class="n">currentHour</span> <span class="o">=</span> <span class="n">currentHour</span> <span class="o">-</span> <span class="mi">12</span><span class="p">;</span>
    <span class="n">currentMinute</span> <span class="o">=</span> <span class="n">minutes</span><span class="p">.</span><span class="n">toInt</span><span class="p">();</span>
    <span class="n">currentSecond</span> <span class="o">=</span> <span class="n">seconds</span><span class="p">.</span><span class="n">toInt</span><span class="p">();</span>
    <span class="n">lastUpdate</span> <span class="o">=</span> <span class="n">millis</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
            </div>
               
            <div class="well">
                <a href="http://www.hackerspacetech.com/author/mike-mcroberts.html" title="See posts by Mike McRoberts">
                        <img class="avatar" style="float:left; margin: 20px 10px 10px 0px;" alt="Mike McRoberts" src="https://www.gravatar.com/avatar/ac5d054e0bd977e9c294cd568f6fe1a6">
 
                </a>
                <h3 class="article-info">Mike McRoberts</h3>
                    <small class="about-author"></small>
                    <h5>Published</h5>
                    <p>Thu 08 December 2016</p>
                

                
                
            </div>
                    
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="http://www.hackerspacetech.com/neopixel-16-ring-fun.html">NeoPixel 16 Ring Fun</a></li>
        <li><a href="http://www.hackerspacetech.com/while-statement-conditional-how-to-use-a-while-loop-to-calibrate-a-sensor-while-a-button-is-being-read.html">While Statement Conditional: How to use a while loop to calibrate a sensor while a button is being read.</a></li>
        <li><a href="http://www.hackerspacetech.com/ldr-light-sensor-tutorial.html">LDR light sensor tutorial</a></li>
        <li><a href="http://www.hackerspacetech.com/multiplexing-seven-segment-displays.html">Multiplexing Seven Segment Displays</a></li>
        <li><a href="http://www.hackerspacetech.com/creating-a-simple-relay-board-using-eagle.html">Creating A Simple Relay Board Using Eagle</a></li>
        <li><a href="http://www.hackerspacetech.com/creating-a-four-digit-display-using-74hc595-shift-registers.html">Creating a Four Digit Display Using 74HC595 Shift Registers</a></li>
        <li><a href="http://www.hackerspacetech.com/ultrasonic-arduino-how-to-parking-your-car-with-an-arduino.html">UltraSonic Arduino How To - Parking your car with an Arduino</a></li>
        <li><a href="http://www.hackerspacetech.com/syncing-oscilloscope-to-interrupt-activity.html">Syncing Oscilloscope To Interrupt Activity</a></li>
        <li><a href="http://www.hackerspacetech.com/serial-to-parallel-shifting-out-with-a-74hc595.html">Serial to Parallel Shifting-Out with a 74HC595</a></li>
        <li><a href="http://www.hackerspacetech.com/infra-red-controlled-robot.html">Infra Red Controlled Robot</a></li>
    </ul>
</section>
    <hr />
    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style well">
            <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
            <a class="addthis_button_tweet"></a>
            <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    </div>
    <!-- AddThis Button END -->
    <hr/>
    <section class="well comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'hackerspacetech'; // required: replace example with your forum shortname

                    var disqus_identifier = 'neo-pixel-ring-clock-esp8266-controlled';
                var disqus_url = 'http://www.hackerspacetech.com/neo-pixel-ring-clock-esp8266-controlled.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
         
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<div id="aboutme">
        <p>
            <img width="100%" class="img-thumbnail" src="/images/animatedlogocropped.gif"/>
        </p>
    <p>
        <strong>About Hacker Space Tech</strong><br/>
        We a motivated group of hardware hackers who like learning about technology and building cool things.  To learn more about the display above <a href="http://hackerspacetech.com/building-a-16x32-neopixel-display.html">Click Here</a>.  To learn more about the Contributors at Hacker Space Tech <a href="/pages/hacker-stars.html">Click Here</a>
    </p>
</div>
<section class="well well-sm">
<a href="http://freecourse.hackerspacetech.com" rel="nofollow" target="_blank"><img src="/images/sponsors/pea.jpg" class="img-rounded" width="100%"></a>
    

<!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="//HackerSpaceTech.us13.list-manage.com/subscribe/post?u=a0dcde6f498dc22f6741963db&amp;id=732af8bbfb" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<h2>HackerSpace Tips</h2>
<div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
<div class="mc-field-group">
	<label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
</label>
	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
</div>
<div class="mc-field-group">
	<label for="mce-FNAME">First Name </label>
	<input type="text" value="" name="FNAME" class="" id="mce-FNAME">
</div>
<div class="mc-field-group">
	<label for="mce-LNAME">Last Name </label>
	<input type="text" value="" name="LNAME" class="" id="mce-LNAME">
</div>
<div class="mc-field-group input-group">
    <strong>Email Format </strong>
    <ul><li><input type="radio" value="html" name="EMAILTYPE" id="mce-EMAILTYPE-0"><label for="mce-EMAILTYPE-0">html</label></li>
<li><input type="radio" value="text" name="EMAILTYPE" id="mce-EMAILTYPE-1"><label for="mce-EMAILTYPE-1">text</label></li>
</ul>
</div>
	<div id="mce-responses" class="clear">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response" style="display:none"></div>
	</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a0dcde6f498dc22f6741963db_732af8bbfb" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->
    
    <ul class="list-group list-group-flush">

            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
                <ul class="list-group" id="recentposts">
                    <li class="list-group-item">
                        <a href="http://www.hackerspacetech.com/neo-pixel-ring-clock-esp8266-controlled.html">
                            Neo-Pixel Ring Clock - ESP8266 Controlled
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://www.hackerspacetech.com/creating-a-simple-relay-board-using-eagle.html">
                            Creating A Simple Relay Board Using Eagle
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://www.hackerspacetech.com/ldr-light-sensor-tutorial.html">
                            LDR light sensor tutorial
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://www.hackerspacetech.com/attendance-logger.html">
                            Attendance Logger
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://www.hackerspacetech.com/virtual-color-mixer.html">
                            Virtual Color Mixer
                        </a>
                    </li>
                </ul>
            </li>

        <!-- <br><center><a href="http://freecourse.hackerspacetech.com"><img width="100%" src="/images/sponsors/pea.jpg"></a></center><br> -->
        
        <!--- Start Sign up --->
        
        

            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Follow HackerSpaceTech</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="http://www.twitter.com/hackerspacetech"><i class="fa fa-twitter-square fa-lg"></i> twitter</a></li>
                <li class="list-group-item"><a href="http://www.linkedin.com/in/driewe"><i class="fa fa-linkedin-square fa-lg"></i> linkedin</a></li>
                <li class="list-group-item"><a href="http://www.github.com/driewe"><i class="fa fa-github-square fa-lg"></i> github</a></li>
                <li class="list-group-item"><a href="http://www.facebook.com/HackerSpaceTech"><i class="fa fa-facebook-square fa-lg"></i> facebook</a></li>
                <li class="list-group-item"><a href="https://www.youtube.com/channel/UCxScU-1pFpDndfqXOLqwrUw"><i class="fa fa-youtube-square fa-lg"></i> youtube</a></li>
                <li class="list-group-item"><a href="https://www.quora.com/profile/David-Riewe"><i class="fa fa-quora-square fa-lg"></i> quora</a></li>
              </ul>
            </li>
    <!-- Amazon 3d printer add -->
     <div class="alignleft">
     <script type="text/javascript">
       	amzn_assoc_ad_type = "banner";
	amzn_assoc_marketplace = "amazon";
	amzn_assoc_region = "US";
	amzn_assoc_placement = "assoc_banner_placement_default";
	amzn_assoc_campaigns = "3dprint";
	amzn_assoc_banner_type = "category";
	amzn_assoc_p = "12";
	amzn_assoc_isresponsive = "false";
	amzn_assoc_banner_id = "1ZZ5MX4FZWRHWKE92NR2";
	amzn_assoc_width = "300";
	amzn_assoc_height = "250";
	amzn_assoc_tracking_id = "teammilleniumonl";
	amzn_assoc_linkid = "19cc01de1e780bf6b1b83556c49a5017";
     </script>
     <script src="//z-na.amazon-adsystem.com/widgets/q?ServiceVersion=20070822&Operation=GetScript&ID=OneJS&WS=1"></script>
    </div>





    <li class="list-group-item"><h4><i class="fa fa-twitter fa-lg"></i><span class="icon-label">Latest HackerSpaceTech Tweets</span></h4></li>
    <div id="twitter_timeline">
        <a class="twitter-timeline" data-width="325" data-height="400" data-dnt="true" data-theme="light" href="https://twitter.com/hackerspacetech">Tweets by hackerspacetech</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>

     <!--   <center><br><a href="http://goo.gl/XFRMbW"><img width="100%" src="/images/sponsors/sbs.png"></a><br></center> -->

    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://freecourse.hackerspacetech.com" target="_blank">
                Free Arduino Class
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://programmingelectronics.com/hackerspacetech" target="_blank">
                Register For PEA
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://www.meetup.com/hackerspacetech" target="_blank">
                HackerSpaceTech Meetup
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://hackerspacetech.com/16x32-NeoPixel-FadeCandy-Display/" target="_blank">
                Fadecandy 16x32 Project
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://hackerspacetech.com/RemoteControlRobotIR/" target="_blank">
                Infra Red Controlled Robot
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://thelab.ms/" target="_blank">
                TheLab.ms
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://dallasmakerspace.org/" target="_blank">
                Dallas Maker Space
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://www.hackster.io/driewe" target="_blank">
                Hackster.io
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container-fluid">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Hacker Space Tech
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://www.hackerspacetech.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://www.hackerspacetech.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://www.hackerspacetech.com/theme/js/respond.min.js"></script>

    <script src="http://www.hackerspacetech.com/theme/js/bodypadding.js"></script>
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'hackerspacetech'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-47432237-2']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

        <script type="text/javascript">var addthis_config = {"data_track_addressbar": true};</script>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=driewe"></script>
</body>
</html>