<style>
.vertical_center {
    display: flex;
    align-items: center;
}
</style>
<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>NeoPixel 16 Ring Fun - HackerSpaceTech</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://www.hackerspacetech.com/neopixel-16-ring-fun.html">

        <meta name="author" content="David Riewe" />
        <meta name="keywords" content="Arduino,NeoPixel,Tutorials" />
        <meta name="description" content="NeoPixels are fun and amazing. In my project I connected 4 of the AdaFruit NeoPixel - 16 RGBW Leds together. What caught my attention and curiosity was that you can control each of these RGBW Leds using just one wire.This feat is accomplished with a very timing-specific protocol. Since the ..." />

        <meta property="og:site_name" content="HackerSpaceTech" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="NeoPixel 16 Ring Fun"/>
        <meta property="og:url" content="http://www.hackerspacetech.com/neopixel-16-ring-fun.html"/>
        <meta property="og:description" content="NeoPixels are fun and amazing. In my project I connected 4 of the AdaFruit NeoPixel - 16 RGBW Leds together. What caught my attention and curiosity was that you can control each of these RGBW Leds using just one wire.This feat is accomplished with a very timing-specific protocol. Since the ..."/>
        <meta property="article:published_time" content="2016-04-18" />
            <meta property="article:section" content="Blog" />
            <meta property="article:tag" content="Arduino" />
            <meta property="article:tag" content="NeoPixel" />
            <meta property="article:tag" content="Tutorials" />
            <meta property="article:author" content="David Riewe" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://www.hackerspacetech.com/theme/css/bootstrap.united.min.css" type="text/css"/>
    <link href="http://www.hackerspacetech.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://www.hackerspacetech.com/theme/css/pygments/solarizeddark.css" rel="stylesheet">
    <link rel="stylesheet" href="http://www.hackerspacetech.com/theme/css/style.css" type="text/css"/>

        <link href="http://www.hackerspacetech.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="HackerSpaceTech ATOM Feed"/>



        <link href="http://www.hackerspacetech.com/feeds/blog.atom.xml" type="application/atom+xml" rel="alternate"
              title="HackerSpaceTech Blog ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://www.hackerspacetech.com/" class="navbar-brand">
HackerSpaceTech            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/category/blog.html">Blog</a></li>
                    <li><a href="/pages/meetups.html">Meetups</a></li>
                    <li><a href="/pages/classes.html">Classes</a></li>
                    <li><a href="http://freecourse.hackerspacetech.com">Arduino Crash Course</a></li>
                    <li><a href="/pages/featured-hackers.html">Featured Hackers</a></li>
                    <li><a href="/pages/tutorials.html">Tutorials</a></li>
                    <li><a href="/pages/contact.html">Contact</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<style>
	#banner{
	    background-image:url("http://www.hackerspacetech.com//images/banners/mainbanner3.png");
	}
</style>

<div id="banner">
	<div class="container-fluid">
		<div class="copy">
			<h1>HackerSpaceTech</h1>
		</div>
	</div>
</div><!-- End Banner -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <div class="well">
            <header class="page-header">
                
                <h1>
                    <a href="http://www.hackerspacetech.com/neopixel-16-ring-fun.html"
                       rel="bookmark"
                       title="Permalink to NeoPixel 16 Ring Fun">
                        NeoPixel 16 Ring Fun
                    </a>
                </h1>
                
            </header>
            <div class="entry-content">
                
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-04-18T16:50:00-05:00"> Mon 18 April 2016</time>
    </span>


            <span class="label label-default">By</span>
            <a href="http://www.hackerspacetech.com/author/david-riewe.html"><i class="fa fa-user"></i> David Riewe</a>



<span class="label label-default">Tags</span>
	<a href="http://www.hackerspacetech.com/tag/arduino.html">Arduino</a>
        /
	<a href="http://www.hackerspacetech.com/tag/neopixel.html">NeoPixel</a>
        /
	<a href="http://www.hackerspacetech.com/tag/tutorials.html">Tutorials</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                </div>
                <p><img alt="alt text" src="https://3.bp.blogspot.com/-2PBh6CGux-Y/Vwpq4qeIJyI/AAAAAAAAs-c/2e9IeCQiPMU2emHh5uIRqNGg7vW0GS2TA/s320/neopixel1.PNG" title="Logo Title Text 1" /></p>
<p>NeoPixels are fun and amazing. In my project I connected 4 of the <a href="https://www.amazon.com/gp/product/B00R5CDGWA/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B00R5CDGWA&amp;linkCode=as2&amp;tag=teammilleniumonl&amp;linkId=a3964d7a35bee2d107a7f7cbf9d2a1ca">AdaFruit NeoPixel</a> - 16 RGBW Leds together. What caught my attention and curiosity was that you can control each of these RGBW Leds using just one wire.This feat is accomplished with a very timing-specific protocol. Since the protocol is very sensitive to timing, it requires a real-time microconroller such as an AVR, Arduino, PIC, mbed, etc. It cannot be used with a Linux-based microcomputer or interpreted microcontroller such as the netduino or Basic Stamp. How the protocol works can be found in the WS2812 data sheet. For each RGB Led a stream of 24 bits will be sent, 8 bits for each color.</p>
<p>The value of each bit, 1 or 0, is determined by the timing of the square wave. A logic 0 is represented by a signal that is high for .35 mircorseconds followed by a low of .8 microseconds A logic 1 is represented by a signal that is high for .7 microseconds followed by a low for  6 microseconds</p>
<p><img alt="alt text" src="https://3.bp.blogspot.com/-6OQyXqafxWA/Vwpra6QcNCI/AAAAAAAAs-k/q0cHRah4wlMCPyYk42UGNCeprTaNAFTZw/s320/neopixel2.PNG" /></p>
<p><img alt="alt text" src="https://2.bp.blogspot.com/-hHm9ooAzN3s/Vwprq8GLv6I/AAAAAAAAs-o/p9eLXHlKx5sQ2t2pAPEo0RxhZA-cFfcBQ/s640/neopixel3.PNG" /></p>
<p>So just in the process of updating a <a href="https://www.amazon.com/gp/product/B01F7YY8CY/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B01F7YY8CY&amp;linkCode=as2&amp;tag=teammilleniumonl&amp;linkId=b3e4158d3fd6ad50e3b40af3a61248c6">16 LED RGB ring</a> you will be sending 48 bytes of data, 3 bytes for each leds RGB value. Each byte contains a value of 0-255 indicating the value of intensity for that particularcolor (Red, Green or Blue).</p>
<p>Looking at the diagram above the transmission starts with D1 receiving the first 24 bits. After that D1 will pass subsequent bits on to D2. Once D2 receives it's 24 it starts passing subsequent bits onto D3.
Note that this is different than usual shift register operation. The passing on will continue until the data line is held low for 50 microseconds. Holding the data line low for 50 microseconds is a reset code indicating next sequence is for the WS2812 to process.</p>
<p><img alt="alt text" src="https://1.bp.blogspot.com/-QhLMhMLKEVU/VwpvO5FCZqI/AAAAAAAAs-4/yILvmTcCe3o7a_GSBh-shg_b6eMqPtHWA/s640/neopixel4.PNG" />"logo"</p>
<p>Generating the timing above is no easy feat and requires some very skilled hand-tuned assembly code that issues data to the LED drivers at a specific rate. Fortunately, Phil Burgess / Paint Your Dragon, wrote a library for Adafruit that allows us mortals to control these beauties.</p>
<p>Below is the code and a video of my setup. Codebender allows you to peek into the library files by holding down the CTRL key while clicking on the library header file. In this case you would hold the CTRL key and click on "Adafruit_NeoPixel.h". This will open a new tab with the NeoPixel library and related files. From there look on the left hand side and select the Adafruit_NeoPixel.cpp file to explore and learn more about this awesome library. Don't be afradid If you have any questions please <a href="http://www.davidriewe.com/p/contact-me.html">feel free to ask.</a>
<div style="text-align: center;"></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/w97qFRa2lRo" frameborder="0" allowfullscreen></iframe>

</div>

<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;Adafruit_NeoPixel.h&gt;</span><span class="cp"></span>
<span class="cp">#ifdef __AVR__</span>
<span class="cp">#include</span> <span class="cpf">&lt;avr/power.h&gt;</span><span class="cp"></span>
<span class="cp">#endif</span>

<span class="cp">#define PIN 6</span>

<span class="cp">#define NUM_LEDS 64</span>

<span class="cp">#define BRIGHTNESS 50</span>

<span class="n">Adafruit_NeoPixel</span> <span class="n">strip</span> <span class="o">=</span> <span class="n">Adafruit_NeoPixel</span><span class="p">(</span><span class="n">NUM_LEDS</span><span class="p">,</span> <span class="n">PIN</span><span class="p">,</span> <span class="n">NEO_GRBW</span> <span class="o">+</span> <span class="n">NEO_KHZ800</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">gamma</span><span class="p">[]</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>
    <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span>
    <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span>
    <span class="mi">17</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span>
    <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span>
    <span class="mi">37</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span>
    <span class="mi">51</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span>
    <span class="mi">69</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mi">82</span><span class="p">,</span> <span class="mi">83</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span>
    <span class="mi">90</span><span class="p">,</span> <span class="mi">92</span><span class="p">,</span> <span class="mi">93</span><span class="p">,</span> <span class="mi">95</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">104</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span>
    <span class="mi">115</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="mi">126</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="mi">129</span><span class="p">,</span> <span class="mi">131</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="mi">135</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span> <span class="mi">138</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">142</span><span class="p">,</span>
    <span class="mi">144</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span> <span class="mi">148</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">152</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">167</span><span class="p">,</span> <span class="mi">169</span><span class="p">,</span> <span class="mi">171</span><span class="p">,</span> <span class="mi">173</span><span class="p">,</span> <span class="mi">175</span><span class="p">,</span>
    <span class="mi">177</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">182</span><span class="p">,</span> <span class="mi">184</span><span class="p">,</span> <span class="mi">186</span><span class="p">,</span> <span class="mi">189</span><span class="p">,</span> <span class="mi">191</span><span class="p">,</span> <span class="mi">193</span><span class="p">,</span> <span class="mi">196</span><span class="p">,</span> <span class="mi">198</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">208</span><span class="p">,</span> <span class="mi">210</span><span class="p">,</span> <span class="mi">213</span><span class="p">,</span>
    <span class="mi">215</span><span class="p">,</span> <span class="mi">218</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">223</span><span class="p">,</span> <span class="mi">225</span><span class="p">,</span> <span class="mi">228</span><span class="p">,</span> <span class="mi">231</span><span class="p">,</span> <span class="mi">233</span><span class="p">,</span> <span class="mi">236</span><span class="p">,</span> <span class="mi">239</span><span class="p">,</span> <span class="mi">241</span><span class="p">,</span> <span class="mi">244</span><span class="p">,</span> <span class="mi">247</span><span class="p">,</span> <span class="mi">249</span><span class="p">,</span> <span class="mi">252</span><span class="p">,</span> <span class="mi">255</span>
<span class="p">};</span>
<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
    <span class="n">strip</span><span class="p">.</span><span class="n">setBrightness</span><span class="p">(</span><span class="n">BRIGHTNESS</span><span class="p">);</span>
    <span class="n">strip</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
    <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span> <span class="c1">// Initialize all pixels to &#39;off&#39;</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Some example procedures showing how to display to the pixels:</span>
    <span class="n">colorWipe</span><span class="p">(</span><span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">5</span><span class="p">);</span> <span class="c1">// Red</span>
    <span class="n">colorWipe</span><span class="p">(</span><span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">5</span><span class="p">);</span> <span class="c1">// Green</span>
    <span class="n">colorWipe</span><span class="p">(</span><span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="mi">5</span><span class="p">);</span> <span class="c1">// Blue</span>
    <span class="n">colorWipe</span><span class="p">(</span><span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="mi">5</span><span class="p">);</span> <span class="c1">// White</span>

    <span class="n">whiteOverRainbow</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
    <span class="n">whiteOverRainbow</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
    <span class="n">whiteOverRainbow</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
    <span class="n">pulseWhite</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>

    <span class="c1">// fullWhite();</span>
    <span class="c1">// delay(2000);</span>

    <span class="n">rainbowFade2White</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// Fill the dots one after the other with a color</span>
<span class="kt">void</span> <span class="nf">colorWipe</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">c</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">wait</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">uint16_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">c</span><span class="p">);</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
        <span class="n">delay</span><span class="p">(</span><span class="n">wait</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">pulseWhite</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">wait</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">256</span> <span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">uint16_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">gamma</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">)</span> <span class="p">);</span>
        <span class="p">}</span>
        <span class="n">delay</span><span class="p">(</span><span class="n">wait</span><span class="p">);</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">255</span><span class="p">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">j</span><span class="o">--</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">uint16_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">gamma</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">)</span> <span class="p">);</span>
        <span class="p">}</span>
        <span class="n">delay</span><span class="p">(</span><span class="n">wait</span><span class="p">);</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="nf">rainbowFade2White</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">wait</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rainbowLoops</span><span class="p">,</span> <span class="kt">int</span> <span class="n">whiteLoops</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">float</span> <span class="n">fadeMax</span> <span class="o">=</span> <span class="mf">100.0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">fadeVal</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">uint32_t</span> <span class="n">wheelVal</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">redVal</span><span class="p">,</span> <span class="n">greenVal</span><span class="p">,</span> <span class="n">blueVal</span><span class="p">;</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">rainbowLoops</span> <span class="p">;</span> <span class="n">k</span> <span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">256</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="c1">// 5 cycles of all colors on wheel</span>
        <span class="p">{</span>

            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>

                <span class="n">wheelVal</span> <span class="o">=</span> <span class="n">Wheel</span><span class="p">(((</span><span class="n">i</span> <span class="o">*</span> <span class="mi">256</span> <span class="o">/</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">())</span> <span class="o">+</span> <span class="n">j</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">255</span><span class="p">);</span>

                <span class="n">redVal</span> <span class="o">=</span> <span class="n">red</span><span class="p">(</span><span class="n">wheelVal</span><span class="p">)</span> <span class="o">*</span> <span class="kt">float</span><span class="p">(</span><span class="n">fadeVal</span> <span class="o">/</span> <span class="n">fadeMax</span><span class="p">);</span>
                <span class="n">greenVal</span> <span class="o">=</span> <span class="n">green</span><span class="p">(</span><span class="n">wheelVal</span><span class="p">)</span> <span class="o">*</span> <span class="kt">float</span><span class="p">(</span><span class="n">fadeVal</span> <span class="o">/</span> <span class="n">fadeMax</span><span class="p">);</span>
                <span class="n">blueVal</span> <span class="o">=</span> <span class="n">blue</span><span class="p">(</span><span class="n">wheelVal</span><span class="p">)</span> <span class="o">*</span> <span class="kt">float</span><span class="p">(</span><span class="n">fadeVal</span> <span class="o">/</span> <span class="n">fadeMax</span><span class="p">);</span>

                <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span> <span class="n">i</span><span class="p">,</span> <span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span> <span class="n">redVal</span><span class="p">,</span> <span class="n">greenVal</span><span class="p">,</span> <span class="n">blueVal</span> <span class="p">)</span> <span class="p">);</span>

            <span class="p">}</span>

            <span class="c1">//First loop, fade in!</span>
            <span class="k">if</span><span class="p">(</span><span class="n">k</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">fadeVal</span> <span class="o">&lt;</span> <span class="n">fadeMax</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">fadeVal</span><span class="o">++</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="c1">//Last loop, fade out!</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">k</span> <span class="o">==</span> <span class="n">rainbowLoops</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">255</span> <span class="o">-</span> <span class="n">fadeMax</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="n">fadeVal</span><span class="o">--</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
            <span class="n">delay</span><span class="p">(</span><span class="n">wait</span><span class="p">);</span>
        <span class="p">}</span>

    <span class="p">}</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">whiteLoops</span> <span class="p">;</span> <span class="n">k</span> <span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">256</span> <span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">uint16_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">gamma</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">)</span> <span class="p">);</span>
            <span class="p">}</span>
            <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">255</span><span class="p">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">j</span><span class="o">--</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">uint16_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">gamma</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">)</span> <span class="p">);</span>
            <span class="p">}</span>
            <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">whiteOverRainbow</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">wait</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">whiteSpeed</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">whiteLength</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">whiteLength</span> <span class="o">&gt;=</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">())</span> <span class="n">whiteLength</span> <span class="o">=</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">head</span> <span class="o">=</span> <span class="n">whiteLength</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">tail</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">loops</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">loopNum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">static</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">lastTime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">256</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">uint16_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">if</span><span class="p">((</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="n">tail</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">head</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">tail</span> <span class="o">&gt;</span> <span class="n">head</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">tail</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">tail</span> <span class="o">&gt;</span> <span class="n">head</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">head</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span> <span class="p">)</span> <span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">Wheel</span><span class="p">(((</span><span class="n">i</span> <span class="o">*</span> <span class="mi">256</span> <span class="o">/</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">())</span> <span class="o">+</span> <span class="n">j</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">255</span><span class="p">));</span>
                <span class="p">}</span>

            <span class="p">}</span>

            <span class="k">if</span><span class="p">(</span><span class="n">millis</span><span class="p">()</span> <span class="o">-</span> <span class="n">lastTime</span> <span class="o">&gt;</span> <span class="n">whiteSpeed</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">head</span><span class="o">++</span><span class="p">;</span>
                <span class="n">tail</span><span class="o">++</span><span class="p">;</span>
                <span class="k">if</span><span class="p">(</span><span class="n">head</span> <span class="o">==</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">())</span>
                <span class="p">{</span>
                    <span class="n">loopNum</span><span class="o">++</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="n">lastTime</span> <span class="o">=</span> <span class="n">millis</span><span class="p">();</span>
            <span class="p">}</span>

            <span class="k">if</span><span class="p">(</span><span class="n">loopNum</span> <span class="o">==</span> <span class="n">loops</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

            <span class="n">head</span> <span class="o">%=</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">();</span>
            <span class="n">tail</span> <span class="o">%=</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">();</span>
            <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
            <span class="n">delay</span><span class="p">(</span><span class="n">wait</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">}</span>
<span class="kt">void</span> <span class="nf">fullWhite</span><span class="p">()</span>
<span class="p">{</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">uint16_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span> <span class="p">)</span> <span class="p">);</span>
    <span class="p">}</span>
    <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
<span class="p">}</span>


<span class="c1">// Slightly different, this makes the rainbow equally distributed throughout</span>
<span class="kt">void</span> <span class="nf">rainbowCycle</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">wait</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">uint16_t</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>

    <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">256</span> <span class="o">*</span> <span class="mi">5</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="c1">// 5 cycles of all colors on wheel</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">Wheel</span><span class="p">(((</span><span class="n">i</span> <span class="o">*</span> <span class="mi">256</span> <span class="o">/</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">())</span> <span class="o">+</span> <span class="n">j</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">255</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
        <span class="n">delay</span><span class="p">(</span><span class="n">wait</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">rainbow</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">wait</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">uint16_t</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>

    <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">256</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">strip</span><span class="p">.</span><span class="n">numPixels</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">strip</span><span class="p">.</span><span class="n">setPixelColor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">Wheel</span><span class="p">((</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">255</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="n">strip</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
        <span class="n">delay</span><span class="p">(</span><span class="n">wait</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Input a value 0 to 255 to get a color value.</span>
<span class="c1">// The colours are a transition r - g - b - back to r.</span>
<span class="kt">uint32_t</span> <span class="nf">Wheel</span><span class="p">(</span><span class="n">byte</span> <span class="n">WheelPos</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">WheelPos</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">-</span> <span class="n">WheelPos</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">WheelPos</span> <span class="o">&lt;</span> <span class="mi">85</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span> <span class="o">-</span> <span class="n">WheelPos</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">WheelPos</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="n">WheelPos</span> <span class="o">&lt;</span> <span class="mi">170</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">WheelPos</span> <span class="o">-=</span> <span class="mi">85</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WheelPos</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">255</span> <span class="o">-</span> <span class="n">WheelPos</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">WheelPos</span> <span class="o">-=</span> <span class="mi">170</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">strip</span><span class="p">.</span><span class="n">Color</span><span class="p">(</span><span class="n">WheelPos</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">255</span> <span class="o">-</span> <span class="n">WheelPos</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">uint8_t</span> <span class="nf">red</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">c</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">c</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">uint8_t</span> <span class="nf">green</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">c</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">c</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">uint8_t</span> <span class="nf">blue</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">c</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">c</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
            </div>
               
            <div class="well">
                <a href="http://www.hackerspacetech.com/author/david-riewe.html" title="See posts by David Riewe">
                        <img class="avatar" style="float:left; margin: 20px 10px 10px 0px;" alt="David Riewe" src="https://www.gravatar.com/avatar/2d9756bdf568ea028c6e2c08dc5aef99">
 
                </a>
                <h3 class="article-info">David Riewe</h3>
                    <small class="about-author"></small>
                    <h5>Published</h5>
                    <p>Mon 18 April 2016</p>
                

                
                
            </div>
                    
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="http://www.hackerspacetech.com/neo-pixel-ring-clock-esp8266-controlled.html">Neo-Pixel Ring Clock - ESP8266 Controlled</a></li>
        <li><a href="http://www.hackerspacetech.com/matrix-keypad-with-7-segment-display-arduino-mini-project.html">Matrix keypad with 7 segment display (Arduino mini project)</a></li>
        <li><a href="http://www.hackerspacetech.com/logging-environmental-data-and-charting-it-with-google-charts.html">Logging Environmental Data and Charting it with Google Charts</a></li>
        <li><a href="http://www.hackerspacetech.com/ldr-light-sensor-tutorial.html">LDR light sensor tutorial</a></li>
        <li><a href="http://www.hackerspacetech.com/serial-to-parallel-shifting-out-with-a-74hc595.html">Serial to Parallel Shifting-Out with a 74HC595</a></li>
        <li><a href="http://www.hackerspacetech.com/understanding-data-types-for-variables.html">Understanding Data Types for variables</a></li>
        <li><a href="http://www.hackerspacetech.com/playing-night-rider-with-three-74hc595s.html">Playing night rider with three 74HC595s</a></li>
        <li><a href="http://www.hackerspacetech.com/intel-edison-threshold-wifi-grapher.html">Intel Edison threshold WiFi Grapher</a></li>
        <li><a href="http://www.hackerspacetech.com/creating-a-simple-relay-board-using-eagle.html">Creating A Simple Relay Board Using Eagle</a></li>
        <li><a href="http://www.hackerspacetech.com/while-statement-conditional-how-to-use-a-while-loop-to-calibrate-a-sensor-while-a-button-is-being-read.html">While Statement Conditional: How to use a while loop to calibrate a sensor while a button is being read.</a></li>
    </ul>
</section>
    <hr />
    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style well">
            <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
            <a class="addthis_button_tweet"></a>
            <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    </div>
    <!-- AddThis Button END -->
    <hr/>
    <section class="well comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'hackerspacetech'; // required: replace example with your forum shortname

                    var disqus_identifier = 'neopixel-16-ring-fun';
                var disqus_url = 'http://www.hackerspacetech.com/neopixel-16-ring-fun.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
         
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<div id="aboutme">
        <p>
            <img width="100%" class="img-thumbnail" src="/images/animatedlogocropped.gif"/>
        </p>
    <p>
        <strong>About Hacker Space Tech</strong><br/>
        We a motivated group of hardware hackers who like learning about technology and building cool things.  To learn more about the display above <a href="http://hackerspacetech.com/building-a-16x32-neopixel-display.html">Click Here</a>.  To learn more about the Featured Hackers at Hacker Space Tech <a href="/pages/featured-hackers.html">Click Here</a>
    </p>
</div>
<section class="well well-sm">
<a href="http://freecourse.hackerspacetech.com" rel="nofollow" target="_blank"><img src="/images/sponsors/pea.jpg" class="img-rounded" width="100%"></a>
    

<!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="//HackerSpaceTech.us13.list-manage.com/subscribe/post?u=a0dcde6f498dc22f6741963db&amp;id=732af8bbfb" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<h2>HackerSpace Tips</h2>
<div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
<div class="mc-field-group">
	<label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
</label>
	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
</div>
<div class="mc-field-group">
	<label for="mce-FNAME">First Name </label>
	<input type="text" value="" name="FNAME" class="" id="mce-FNAME">
</div>
<div class="mc-field-group">
	<label for="mce-LNAME">Last Name </label>
	<input type="text" value="" name="LNAME" class="" id="mce-LNAME">
</div>
<div class="mc-field-group input-group">
    <strong>Email Format </strong>
    <ul><li><input type="radio" value="html" name="EMAILTYPE" id="mce-EMAILTYPE-0"><label for="mce-EMAILTYPE-0">html</label></li>
<li><input type="radio" value="text" name="EMAILTYPE" id="mce-EMAILTYPE-1"><label for="mce-EMAILTYPE-1">text</label></li>
</ul>
</div>
	<div id="mce-responses" class="clear">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response" style="display:none"></div>
	</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a0dcde6f498dc22f6741963db_732af8bbfb" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->
    
    <ul class="list-group list-group-flush">

            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
                <ul class="list-group" id="recentposts">
                    <li class="list-group-item">
                        <a href="http://www.hackerspacetech.com/control-arduino-robot-arm-with-android-app.html">
                            Control Arduino Robot Arm with Android App
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://www.hackerspacetech.com/intel-edison-threshold-wifi-grapher.html">
                            Intel Edison threshold WiFi Grapher
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://www.hackerspacetech.com/neo-pixel-ring-clock-esp8266-controlled.html">
                            Neo-Pixel Ring Clock - ESP8266 Controlled
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://www.hackerspacetech.com/creating-a-simple-relay-board-using-eagle.html">
                            Creating A Simple Relay Board Using Eagle
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://www.hackerspacetech.com/ldr-light-sensor-tutorial.html">
                            LDR light sensor tutorial
                        </a>
                    </li>
                </ul>
            </li>

        <!-- <br><center><a href="http://freecourse.hackerspacetech.com"><img width="100%" src="/images/sponsors/pea.jpg"></a></center><br> -->
        
        <!--- Start Sign up --->
        
        

            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Follow HackerSpaceTech</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="http://www.twitter.com/hackerspacetech"><i class="fa fa-twitter-square fa-lg"></i> twitter</a></li>
                <li class="list-group-item"><a href="http://www.linkedin.com/in/driewe"><i class="fa fa-linkedin-square fa-lg"></i> linkedin</a></li>
                <li class="list-group-item"><a href="http://www.github.com/driewe"><i class="fa fa-github-square fa-lg"></i> github</a></li>
                <li class="list-group-item"><a href="http://www.facebook.com/HackerSpaceTech"><i class="fa fa-facebook-square fa-lg"></i> facebook</a></li>
                <li class="list-group-item"><a href="https://www.youtube.com/channel/UCxScU-1pFpDndfqXOLqwrUw"><i class="fa fa-youtube-square fa-lg"></i> youtube</a></li>
                <li class="list-group-item"><a href="https://www.quora.com/profile/David-Riewe"><i class="fa fa-quora-square fa-lg"></i> quora</a></li>
              </ul>
            </li>
    <!-- Amazon 3d printer add -->
     <div class="alignleft">
     <script type="text/javascript">
       	amzn_assoc_ad_type = "banner";
	amzn_assoc_marketplace = "amazon";
	amzn_assoc_region = "US";
	amzn_assoc_placement = "assoc_banner_placement_default";
	amzn_assoc_campaigns = "3dprint";
	amzn_assoc_banner_type = "category";
	amzn_assoc_p = "12";
	amzn_assoc_isresponsive = "false";
	amzn_assoc_banner_id = "1ZZ5MX4FZWRHWKE92NR2";
	amzn_assoc_width = "300";
	amzn_assoc_height = "250";
	amzn_assoc_tracking_id = "teammilleniumonl";
	amzn_assoc_linkid = "19cc01de1e780bf6b1b83556c49a5017";
     </script>
     <script src="//z-na.amazon-adsystem.com/widgets/q?ServiceVersion=20070822&Operation=GetScript&ID=OneJS&WS=1"></script>
    </div>





    <li class="list-group-item"><h4><i class="fa fa-twitter fa-lg"></i><span class="icon-label">Latest HackerSpaceTech Tweets</span></h4></li>
    <div id="twitter_timeline">
        <a class="twitter-timeline" data-width="325" data-height="400" data-dnt="true" data-theme="light" href="https://twitter.com/hackerspacetech">Tweets by hackerspacetech</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>

     <!--   <center><br><a href="http://goo.gl/XFRMbW"><img width="100%" src="/images/sponsors/sbs.png"></a><br></center> -->

    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://freecourse.hackerspacetech.com" target="_blank">
                Free Arduino Class
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://programmingelectronics.com/hackerspacetech" target="_blank">
                Register For PEA
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://www.meetup.com/hackerspacetech" target="_blank">
                HackerSpaceTech Meetup
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://hackerspacetech.com/16x32-NeoPixel-FadeCandy-Display/" target="_blank">
                Fadecandy 16x32 Project
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://hackerspacetech.com/RemoteControlRobotIR/" target="_blank">
                Infra Red Controlled Robot
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://thelab.ms/" target="_blank">
                TheLab.ms
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://dallasmakerspace.org/" target="_blank">
                Dallas Maker Space
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://www.hackster.io/driewe" target="_blank">
                Hackster.io
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container-fluid">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Hacker Space Tech
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>              <p><small>  <a rel="license" href="https://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by/4.0/80x15.png" /></a>
    Content
  licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>, except where indicated otherwise.
</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://www.hackerspacetech.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://www.hackerspacetech.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://www.hackerspacetech.com/theme/js/respond.min.js"></script>

    <script src="http://www.hackerspacetech.com/theme/js/bodypadding.js"></script>
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'hackerspacetech'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-47432237-2']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

        <script type="text/javascript">var addthis_config = {"data_track_addressbar": true};</script>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=driewe"></script>
</body>
</html>